(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dcBX:function(e,t,a){"use strict";a.r(t);var r=a("q1tI"),l=a.n(r),n=a("/MKj"),i=a("ANjH"),s=a("SUMQ"),o=a("6ZaM"),c=a.n(o),m=a("MwB+"),d=a.n(m),h=a("ctcd"),u=a.n(h),g=a("1DzM"),E=a.n(g),y=a("1OZW"),b=a.n(y),p=a("JOJA"),v=a.n(p),f=a("XaW4"),C=a.n(f),k=a("IPLq"),w=a.n(k),M=a("Ce3J"),N=a.n(M),O=a("NDbl"),V=a("+2mu"),S=a.n(V);var H=class extends l.a.Component{render(){return l.a.createElement("div",{style:{width:24,height:24}},l.a.createElement(S.a,{style:{width:24,height:24}},l.a.createElement("path",{d:"M15,5V12H9V5H15M15,3H9A2,2 0 0,0 7,5V14H17V5A2,2 0 0,0 15,3M22,10H19V13H22V10M5,10H2V13H5V10M20,15H4V21H6V17H18V21H20V15Z"})))}};var D=class extends l.a.Component{render(){return l.a.createElement("div",{style:{width:24,height:24}},l.a.createElement(S.a,{style:{width:24,height:24}},l.a.createElement("path",{d:"M4,18V21H7V18H17V21H20V15H4V18M19,10H22V13H19V10M2,10H5V13H2V10M17,13H7V5A2,2 0 0,1 9,3H15A2,2 0 0,1 17,5V13Z"})))}},B=a("0G56"),T=a.n(B),x=a("Sk/v"),A=a.n(x),j=a("C+zi"),P=a.n(j),R=a("nwgO"),F=a.n(R),L=a("nd+Z"),q=a("x77/");function I(e){for(var t=1;t<arguments.length;t++){var a=null==arguments[t]?{}:arguments[t],r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){$(e,t,a[t])})}return e}function $(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const J=[1,2,3,4,5,6,7],W=new Map([["E",J],["D",J],["C",J],["B",J],["A",J]]),Z=l.a.createElement("div",{style:{color:"#808080"}},l.a.createElement(H,null)),U=l.a.createElement("div",{style:{color:"#43A047"}},l.a.createElement(D,null)),z=l.a.createElement("div",{key:"ui-columns",style:{marginLeft:"30%"}},l.a.createElement(c.a,{color:"inherit"},l.a.createElement("b",{style:{marginRight:26}},"1"),l.a.createElement("b",{style:{marginRight:26}},"2"),l.a.createElement("b",{style:{marginRight:26}},"3"),l.a.createElement("b",{style:{marginRight:26}},"4"),l.a.createElement("b",{style:{marginRight:26}},"5"),l.a.createElement("b",{style:{marginRight:26}},"6"),l.a.createElement("b",{style:{marginRight:26}},"7"))),K=l.a.createElement("div",{key:"ui-rows",style:{float:"left",marginLeft:"15%",marginTop:35}},l.a.createElement(c.a,{color:"inherit"},l.a.createElement("b",{style:{marginBottom:28,display:"block"}},"E"),l.a.createElement("b",{style:{marginBottom:28,display:"block"}},"D"),l.a.createElement("b",{style:{marginBottom:28,display:"block"}},"C"),l.a.createElement("b",{style:{marginBottom:28,display:"block"}},"B"),l.a.createElement("b",{style:{marginBottom:28,display:"block"}},"A")));t.default=Object(n.b)(function(e){return{users:e.users}},function(e){return Object(i.b)({buy:L.b},e)})(Object(s.withStyles)(e=>({title:{textAlign:"center"},margin:{margin:2*e.spacing.unit},formControl:{width:300},checkboxRound:{width:50,heigh:50,borderRadius:"50%",border:"1 solid #ccc"},cardDiv:{width:400,height:"auto",marginLeft:"15%",marginTop:50},tooltipPlacementBottom:{transformOrigin:"center top",margin:"0 0",[e.breakpoints.up("sm")]:{margin:"0 0"}}}))(class extends l.a.Component{constructor(e){super(e),$(this,"buy",()=>{const{numberOfTickets:e,email:t,fullName:a,creditCardNumber:r,dateCreditCard:l,cvv:n}=this.state;return e?t&&a&&r&&l&&n?/@/.test(t)?void this.setState({errorMsg:"",openDialog:!0}):void this.setState({errorMsg:"Please provide a valid email address."}):void this.setState({errorMsg:"Please fill the required fields."}):void this.setState({errorMsg:"Select the seats you want."})}),$(this,"cancelBuy",()=>{this.handleClose()}),$(this,"confirmBuy",()=>{const e=[],t=Object.keys(this.state.seats).filter(e=>this.state.seats[e]);for(let a=0;a<this.state.numberOfTickets;a++)e.push({eventId:this.props.event.id,date:this.state.selectedDate,seat:t[a]});this.props.buy(e),this.setState({openDialog:!1,openFinalDialog:!0})}),$(this,"handleClose",()=>{this.setState({openDialog:!1})}),$(this,"exit",()=>{Object(q.d)(this.props.event.url)});const t=this.props.users.loggedInUser||{};this.state={numberOfTickets:0,selectedDate:new Date,seats:{},fullName:t.fullName,email:t.email,creditCardNumber:t.creditCardNumber,dateCreditCard:t.dateCreditCard,cvv:t.cvv,errorMsg:"",openDialog:!1,openFinalDialog:!1}}toggleSeat(e){this.setState(t=>t.seats[e]?{numberOfTickets:t.numberOfTickets-1,seats:I({},t.seats,{[e]:!1})}:{numberOfTickets:t.numberOfTickets+1,seats:I({},t.seats,{[e]:!0})})}render(){const{classes:e,event:t}=this.props,a=[];for(const[r,n]of W)a.push(l.a.createElement("div",{key:`row-${r}`,style:{paddingLeft:19}},n.map(a=>l.a.createElement(F.a,{key:`${r}.${a}`,title:`${t.priceUnit}`,classes:{tooltipPlacementBottom:e.tooltipPlacementBottom}},l.a.createElement(v.a,{style:{marginRight:0},control:l.a.createElement(C.a,{icon:Z,checkedIcon:U,onChange:()=>this.toggleSeat(`${r}.${a}`)}),label:""})))));return l.a.createElement("div",null,l.a.createElement("div",{className:e.title},l.a.createElement(c.a,{variant:"h4",color:"inherit"},l.a.createElement("b",null,t&&t.title||"Event Title"))),l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{className:e.cardDiv},l.a.createElement(w.a,null,l.a.createElement(N.a,null,l.a.createElement("div",{className:e.margin},l.a.createElement(E.a,{className:e.formControl},l.a.createElement(O.a,{keyboard:!0,label:"Date to Attend",value:this.state.selectedDate,onChange:e=>this.setState({selectedDate:e}),format:"dd/MM/yyyy",mask:[/\d/,/\d/,"/",/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/]}))),l.a.createElement("div",{className:e.margin},l.a.createElement(E.a,{className:e.formControl},l.a.createElement(u.a,{htmlFor:"fullname"},"Full name *"),l.a.createElement(d.a,{id:"fullname",required:!0,value:this.state.fullName||"",onChange:e=>this.setState({fullName:e.target.value})}))),l.a.createElement("div",{className:e.margin},l.a.createElement(E.a,{className:e.formControl},l.a.createElement(u.a,{htmlFor:"email"},"Email *"),l.a.createElement(d.a,{id:"email",required:!0,value:this.state.email||"",onChange:e=>this.setState({email:e.target.value})}))),l.a.createElement("div",{className:e.margin},l.a.createElement(E.a,{className:e.formControl},l.a.createElement(u.a,{htmlFor:"credit-card"},"Credit Card *"),l.a.createElement(d.a,{id:"credit-card",type:"number",required:!0,value:this.state.creditCardNumber||"",onChange:e=>this.setState({creditCardNumber:parseInt(e.target.value,10)||void 0})}))),l.a.createElement("div",{className:e.margin},l.a.createElement(E.a,{className:e.formControl},l.a.createElement(O.a,{keyboard:!0,clearable:!0,label:"Expiration Date (MM/yyyy) *",value:this.state.dateCreditCard||null,onChange:e=>this.setState({dateCreditCard:e}),format:"MM/yyyy"}))),l.a.createElement("div",{className:e.margin},l.a.createElement(E.a,{className:e.formControl},l.a.createElement(u.a,{htmlFor:"cvv"},"CVV *"),l.a.createElement(d.a,{id:"cvv",type:"number",required:!0,value:this.state.cvv||"",onChange:e=>this.setState({cvv:parseInt(e.target.value,10)||void 0})}))),l.a.createElement("div",{style:{padding:8}},l.a.createElement(c.a,{color:"inherit",variant:"caption"},"* Required Fields")),l.a.createElement("div",{style:{width:"fit-content",margin:"auto",padding:8}},l.a.createElement(c.a,{color:"error"},this.state.errorMsg))))),l.a.createElement("div",{style:{float:"right",marginTop:45,marginLeft:"10%",height:"100%"}},l.a.createElement("div",{style:{marginLeft:"54%",marginBottom:20}},l.a.createElement(c.a,{color:"inherit",variant:"h5"},l.a.createElement("b",null,"Venue"))),K,z,l.a.createElement("div",{key:"ui-checkboxes",style:{height:"100%",minWidth:263,marginLeft:"20%",borderRadius:25,borderColor:"#000000",borderWidth:2,borderStyle:"solid"}},a,l.a.createElement("div",{style:{textAlign:"center",borderColor:"#000000",borderWidth:2,borderStyle:"solid",width:100,height:20,marginLeft:"30%",borderBottom:"none",paddingTop:2}},l.a.createElement(c.a,{color:"inherit",variant:"caption"},l.a.createElement("b",null,"Stage")))),l.a.createElement("div",{style:{marginLeft:"25%",marginTop:15}},l.a.createElement(c.a,{variant:"h6",color:"primary",paragraph:!1},l.a.createElement("span",null,l.a.createElement("b",null,"Total Price: ")),l.a.createElement("span",null,l.a.createElement("b",null,"$",this.props.event.priceUnit*this.state.numberOfTickets," ")),l.a.createElement("span",null,l.a.createElement("b",null,"â‚¬"))),l.a.createElement("div",{style:{marginTop:20}},l.a.createElement(b.a,{variant:"contained",size:"large",color:"primary",onClick:this.buy},"Buy!"))))),l.a.createElement("div",null,l.a.createElement(T.a,{open:this.state.openDialog,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(P.a,{id:"alert-dialog-title"},"Are you sure you want to confirm this purchase?"),l.a.createElement(A.a,{style:{display:"initial",margin:"auto"}},l.a.createElement(b.a,{onClick:this.cancelBuy,color:"primary"},"No"),l.a.createElement(b.a,{onClick:this.confirmBuy,color:"primary",autoFocus:!0},"Yes"))),l.a.createElement(T.a,{open:this.state.openFinalDialog,onClose:this.exit,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(P.a,{id:"alert-dialog-title"},"Purchase done!"),l.a.createElement(A.a,{style:{display:"initial",margin:"auto"}},l.a.createElement(b.a,{onClick:this.exit,color:"primary",autoFocus:!0},"OK")))))}}))}}]);